{% extends 'portfolio/base.html' %}

{% block content %}

<body id="home">
  <div id="dimmer"></div>
  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="/#aboutme">AboutMe</a>
    <a href="/#skills-heading">Skills</a>
    <a href="/#portfolio-heading">Portfolio</a>
    <a href="/#contact-heading">Contact</a>
    <a href="#">Blog</a>
  </div>
  <div id="nav-button" class="nav-button-visible" onclick="openNav()">
    <div class="bar1"></div>
    <div class="bar2"></div>
    <div class="bar3"></div>
  </div>

<main role="main" class="allblogs">
  <section class="container-fluid blogheader">
    <div class="row justify-content-center text-center blogheader-row">
      <div class="col-md-7 col-lg-5 col-xl-4 align-self-center blogheader-col">
        <div class="animate three">
          <span>A</span>&nbsp;<span>j</span><span>o</span><span>u</span><span>r</span><span>n</span><span>e</span><span>y</span>&nbsp;
          <span>o</span><span>f</span>&nbsp;<span>a</span><br>
          <span>w</span><span>e</span><span>b</span>&nbsp;
          <span>d</span><span>e</span><span>v</span><span>e</span><span>l</span><span>o</span><span>p</span><span>e</span><span>r</span>
        </div>
      </div>
    </div>
  </section>

  <div class="container">
    {% for blog in blogs %}
      <div class="row justify-content-center">
        <div class="col-md-3">
            <a href="{% url 'blogdetail' blog.id %}">
              <img class="img-fluid" src="{{ blog.image.url }}">
            </a>
        </div>
        <div class="col-md-6">
          <a href="{% url 'blogdetail' blog.id %}"><h4 class="mgbot-10">{{ blog.title }}</h4></a>
          <span class="d-block text-right date mgbot-10">
            <i class="far fa-calendar"></i> {{ blog.pub_date_pretty }}
          </span>
          <p class="mgbot-10">
            {{ blog.summary | safe }}
          </p>
          <div class="d-block text-right mgbot-10">
            <a href="{% url 'blogdetail' blog.id %}" class="button">CONTINUE READING</a>
          </div>
        </div>
      </div>
    {% endfor %}

    <div class="pagination mb-4">
      <span class="step-links mx-auto">
        {% if blogs.has_previous %}
          <a href="?page=1" class="button">&laquo; FIRST</a>
          <a href="?page={{ blogs.previous_page_number }}" class="button mx-1">PREVIOUS</a>
        {% endif %}

        <span class="current mx-2">
            PAGE {{ blogs.number }} / {{ blogs.paginator.num_pages }}
        </span>

        {% if blogs.has_next %}
            <a href="?page={{ blogs.next_page_number }}" class="button mx-1">NEXT</a>
            <a href="?page={{ blogs.paginator.num_pages }}" class="button">LAST &raquo;</a>
        {% endif %}
      </span>
    </div>
  </div>
</main>

<footer id="footer" class="py-4 text-white">
  <div class="container-fluid">
    <div class="row text-right">
      <div class="col">
        <p class="lead">&copy; Jason Lim</p>
      </div>
    </div>
  </div>
</footer>
{% endblock %}