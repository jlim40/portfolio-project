{% extends 'portfolio/base.html' %}

{% block content %}

<body id="home">

<nav class="navbar navbar-expand-md navbar-light fixed-top py-2">
  <div class="container">
    <a href="{% url 'home' %}" class="navbar-brand">
      <h3 class="d-inline align-middle">Jason</h3>
    </a>
    <div class="navbar-toggler nav-button" data-toggle="collapse" data-target="#navbarNav">
      <div class="bar1"></div>
      <div class="bar2"></div>
      <div class="bar3"></div>
    </div>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a href="{% url 'portfolio:home/#aboutme'" class="nav-link">About Me</a>
        </li>
        <li class="nav-item">
          <a href="/#skills-heading" class="nav-link">Skills</a>
        </li>
        <li class="nav-item">
          <a href="/#portfolio-heading" class="nav-link">Portfolios</a>
        </li>
        <li class="nav-item">
          <a href="/#contact-heading" class="nav-link">Contact</a>
        </li>
        <li class="nav-item">
          <a href="/blog" class="nav-link">Blog</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<main role="main" class="allblogs">
  <section class="container-fluid blogheader">
    <div class="row justify-content-center text-center blogheader-row">
      <div class="col-md-7 col-lg-5 col-xl-4 align-self-center blogheader-col">
        <div class="animate three">
          <span>A</span>&nbsp;<span>j</span><span>o</span><span>u</span><span>r</span><span>n</span><span>e</span><span>y</span>&nbsp;
          <span>o</span><span>f</span>&nbsp;<span>a</span><br>
          <span>w</span><span>e</span><span>b</span>&nbsp;
          <span>d</span><span>e</span><span>v</span><span>e</span><span>l</span><span>o</span><span>p</span><span>e</span><span>r</span>
        </div>
      </div>
    </div>
  </section>

  <div class="container">
    {% for blog in blogs %}
      <div class="row justify-content-center">
        <div class="col-md-3">
            <a href="{% url 'blogdetail' blog.id %}">
              <img class="img-fluid" src="{{ blog.image.url }}">
            </a>
        </div>
        <div class="col-md-6">
          <a href="{% url 'blogdetail' blog.id %}"><h4 class="mgbot-10">{{ blog.title }}</h4></a>
          <span class="d-block text-right date mgbot-10">
            <i class="far fa-calendar"></i> {{ blog.pub_date_pretty }}
          </span>
          <p class="mgbot-10">
            {{ blog.summary | safe }}
          </p>
          <div class="d-block text-right mgbot-10">
            <a href="{% url 'blogdetail' blog.id %}" class="button">CONTINUE READING</a>
          </div>
        </div>
      </div>
    {% endfor %}

    <div class="pagination mb-4">
      <span class="step-links mx-auto">
        {% if blogs.has_previous %}
          <a href="?page=1" class="button">&laquo; FIRST</a>
          <a href="?page={{ blogs.previous_page_number }}" class="button mx-1">PREVIOUS</a>
        {% endif %}

        <span class="current mx-2">
            PAGE {{ blogs.number }} / {{ blogs.paginator.num_pages }}
        </span>

        {% if blogs.has_next %}
            <a href="?page={{ blogs.next_page_number }}" class="button mx-1">NEXT</a>
            <a href="?page={{ blogs.paginator.num_pages }}" class="button">LAST &raquo;</a>
        {% endif %}
      </span>
    </div>
  </div>
</main>

<footer id="footer" class="py-4 text-white">
  <div class="container">
    <div class="row text-center">
      <div class="col ml-auto">
        <p class="lead">&copy; Jason Lim</p>
      </div>
    </div>
  </div>
</footer>
{% endblock %}